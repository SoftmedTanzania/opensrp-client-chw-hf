indicators:
  - key: cbhs-1a-jumla-me
    description: "Number of Male clients enrolled to HIV services until last month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                         fm.gender = 'Male'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 9, 2)) <
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: cbhs-1a-jumla-ke
    description: "Number of Female clients enrolled to HIV services until last month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                         fm.gender = 'Female'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 9, 2)) <
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: cbhs-1b-jumla-me
    description: "Total Male continuing with care this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                         fm.gender = 'Male'
                          AND registration_or_followup_status = 'continuing_with_services'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: cbhs-1b-jumla-ke
    description: "Total Female continuing with care this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                         fm.gender = 'Female'
                          AND registration_or_followup_status = 'continuing_with_services'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: cbhs-2a-jumla-me
    description: "Total new male clients registered this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: cbhs-2a-jumla-ke
    description: "Total new female clients registered this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-1-me"
    description: "Total new male clients less than one year old registered this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+1 years') >= date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-1-ke"
    description: "Total new female clients less than one year old registered this month"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+1 years') >= date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-1-5-me"
    description: "Total new male clients registered this month for 1-5 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+1 years') <= date('now'))
                      AND (date(fm.dob, '+5 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-1-5-ke"
    description: "Total new female clients registered this month for 1-5 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+1 years') <= date('now'))
                      AND (date(fm.dob, '+5 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-6-9-me"
    description: "Total new male clients registered this month for 6-9 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+6 years') <= date('now'))
                      AND (date(fm.dob, '+9 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-6-9-ke"
    description: "Total new female clients registered this month for 6-9 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+6 years') <= date('now'))
                      AND (date(fm.dob, '+9 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "2a-10-14-me"
    description: "Total new male clients registered this month for 10-14 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND (date(fm.dob, '+10 years') <= date('now'))
                      AND (date(fm.dob, '+14 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-10-14-ke"
    description: "Total new female clients registered this month for 10-14 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client'  or registration_or_followup_status is null
                      AND (date(fm.dob, '+10 years') <= date('now'))
                      AND (date(fm.dob, '+14 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "2a-15-19-me"
    description: "Total new male clients registered this month for 15-19 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND (date(fm.dob, '+15 years') <= date('now'))
                      AND (date(fm.dob, '+19 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-15-19-ke"
    description: "Total new female clients registered this month for 15-19 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client'  or registration_or_followup_status is null
                      AND (date(fm.dob, '+15 years') <= date('now'))
                      AND (date(fm.dob, '+19 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "2a-20-24-me"
    description: "Total new male clients registered this month for 20-24 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client'  or registration_or_followup_status is null
                      AND (date(fm.dob, '+20 years') <= date('now'))
                      AND (date(fm.dob, '+24 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-20-24-ke"
    description: "Total new female clients registered this month for 20-24 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client'  or registration_or_followup_status is null
                      AND (date(fm.dob, '+20 years') <= date('now'))
                      AND (date(fm.dob, '+24 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-25-49-me"
    description: "Total new male clients registered this month for 25-49 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+25 years') <= date('now'))
                      AND (date(fm.dob, '+29 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-25-49-ke"
    description: "Total new female clients registered this month for 25-49 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+25 years') <= date('now'))
                      AND (date(fm.dob, '+49 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-50-59-me"
    description: "Total new male clients registered this month for 50-59 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+50 years') <= date('now'))
                      AND (date(fm.dob, '+59 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-50-59-ke"
    description: "Total new female clients registered this month for 50-59 year olds"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+50 years') <= date('now'))
                      AND (date(fm.dob, '+59 years') > date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-60-me"
    description: "Total new male clients registered this month above 60 years"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+60 years') <= date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2a-60-ke"
    description: "Total new female clients registered this month above 60 years"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Female'
                      AND registration_or_followup_status = 'new_client' or registration_or_followup_status is null
                      AND (date(fm.dob, '+60 years') <= date('now'))
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'))"

  - key: "cbhs-2b-1-me"
    description: "Total male with HIV infections"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'hiv_aids'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-1-ke"
    description: "Total female with HIV infections"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'hiv_aids'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-2-me"
    description: "Total male with Tuberculosis"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'tuberculosis'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-2-ke"
    description: "Total male with Tuberculosis"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'tuberculosis'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-3-me"
    description: "Total homosexuals"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'homosexual'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-4-ke"
    description: "Total Sex workers"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'sex_worker_woman'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-5-me"
    description: "Total male infants born with HIV infections"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'hiv_infected_child'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-5-ke"
    description: "Total female infants born with HIV infections"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'hiv_infected_child'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-6-me"
    description: "Total HIV  untested male infants"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'untested_hiv_infected_child'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-6-ke"
    description: "Total HIV untested female infants"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'untested_hiv_infected_child'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-7-me"
    description: "Total male children abused"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                      FROM ec_cbhs_register ecr
                      INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                      WHERE
                      fm.gender = 'Male'
                      AND fm.reasons_for_registration = 'abused_child'
                      AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                      substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                      date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-7-ke"
    description: "Total Female children abused"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Female'
                        AND fm.reasons_for_registration = 'abused_child'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-8-me"
    description: "Total Male gender violence"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Male'
                        AND fm.reasons_for_registration = 'gender_violence'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-8-ke"
    description: "Total Female gender violence"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND fm.reasons_for_registration = 'gender_violence'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-9-me"
    description: "Total Male drug addicts"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Male'
                        AND fm.reasons_for_registration = 'drug_abuse'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-9-ke"
    description: "Total Female drug addicts"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND fm.reasons_for_registration = 'drug_abuse'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-10-ke"
    description: "Total pregnant women"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND fm.reasons_for_registration = 'pregnant_mother'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2b-11-ke"
    description: "Total breast feeding mothers"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND fm.reasons_for_registration = 'breastfeeding_mother'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-1-me"
    description: ""
    indicatorQuery: ""

  - key: "cbhs-2c-1-ke"
    description: ""
    indicatorQuery: ""

  - key: "cbhs-2c-2-me"
    description: "Total male infected with HIV"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Male'
                        AND ecr.client_hiv_status_after_testing = 'Positive'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-2-ke"
    description: "Total female infected with HIV"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND ecr.client_hiv_status_after_testing = 'Positive'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-3-me"
    description: "Total male not infected with HIV"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Male'
                        AND ecr.client_hiv_status_after_testing = 'Negative'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-3-ke"
    description: "Total female not infected with HIV"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND ecr.client_hiv_status_after_testing = 'Negative'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-4-me"
    description: "Total male unknown HIV status"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                        FROM ec_cbhs_register ecr
                        INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                        WHERE
                        fm.gender = 'Male'
                        AND ecr.client_hiv_status_after_testing = 'Unknown'
                        AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                        substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                        date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2c-4-ke"
    description: "Total female unknown HIV status"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Female'
                          AND ecr.client_hiv_status_after_testing = 'Unknown'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-1-me"
    description: "Total male given HIV counselling and testing"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                          FROM ec_cbhs_register ecr
                          INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                          WHERE
                          fm.gender = 'Male'
                          AND ecr.registration_or_followup_status = 'hiv_counselling_and_testing'
                          AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                          substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                          date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-1-ke"
    description: "Total female given HIV counselling and testing"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                            FROM ec_cbhs_register ecr
                            INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                            WHERE
                            fm.gender = 'Female'
                            AND ecr.registration_or_followup_status = 'hiv_counselling_and_testing'
                            AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                            substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                            date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-2-me"
    description: "Total male given ARV medication"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                           FROM ec_cbhs_register ecr
                           INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                           WHERE
                           fm.gender = 'Male'
                           AND ecr.registration_or_followup_status = 'arv_services'
                           AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                           substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                           date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-2-ke"
    description: "Total female given ARV medication"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Female'
                             AND ecr.registration_or_followup_status = 'arv_services'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-3-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                           FROM ec_cbhs_register ecr
                           INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                           WHERE
                           fm.gender = 'Male'
                           AND ecr.registration_or_followup_status = 'hiv_prevention_services_from_mother_to_infant'
                           AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                           substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                           date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-3-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Female'
                             AND ecr.registration_or_followup_status = 'hiv_prevention_services_from_mother_to_infant'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-4-me"
    description: "Total male given Collaborative HIV and TB Health services"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                         FROM ec_cbhs_register ecr
                         INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                         WHERE
                         fm.gender = 'Male'
                         AND ecr.registration_or_followup_status = 'collaborative_community_services_for_tb_and_hiv'
                         AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                         substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                         date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-4-ke"
    description: "Total female given Collaborative HIV and TB Health services"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Female'
                             AND ecr.registration_or_followup_status = 'collaborative_community_services_for_tb_and_hiv'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-5-me"
    description: "Total male given services to reduce the spread of STDs"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                           FROM ec_cbhs_register ecr
                           INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                           WHERE
                           fm.gender = 'Male'
                           AND ecr.registration_or_followup_status = 'services_to_prevent_the_spread_of_stds'
                           AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                           substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                           date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-5-ke"
    description: "Total female given services to reduce the spread of STDs"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Female'
                             AND ecr.registration_or_followup_status = 'services_to_prevent_the_spread_of_stds'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-6-me"
    description: "Total male given special group services"
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                         FROM ec_cbhs_register ecr
                         INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                         WHERE
                         fm.gender = 'Male'
                         AND ecr.registration_or_followup_status = 'special_group_services'
                         AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                         substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                         date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-6-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Female'
                             AND ecr.registration_or_followup_status = 'special_group_services'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-7-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Male'
                             AND ecr.registration_or_followup_status = 'services_to_prevent_gender_violence_and_child_abuse'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || 01) =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-7-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                               FROM ec_cbhs_register ecr
                               INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                               WHERE
                               fm.gender = 'Female'
                               AND ecr.registration_or_followup_status = 'services_to_prevent_gender_violence_and_child_abuse'
                               AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                               substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                               date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-8-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Male'
                             AND ecr.registration_or_followup_status = 'psychological_services'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-8-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                               FROM ec_cbhs_register ecr
                               INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                               WHERE
                               fm.gender = 'Female'
                               AND ecr.registration_or_followup_status = 'psychological_services'
                               AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                               substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                               date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-9-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Male'
                             AND ecr.registration_or_followup_status = 'information_about_fgm'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-9-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                               FROM ec_cbhs_register ecr
                               INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                               WHERE
                               fm.gender = 'Female'
                               AND ecr.registration_or_followup_status = 'information_about_fgm'
                               AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                               substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                               date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-10-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Male'
                             AND ecr.registration_or_followup_status = 'family_planning_and_condom_distribution_services'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-10-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                               FROM ec_cbhs_register ecr
                               INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                               WHERE
                               fm.gender = 'Female'
                               AND ecr.registration_or_followup_status = 'family_planning_and_condom_distribution_services'
                               AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                               substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                               date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-11-me"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                             FROM ec_cbhs_register ecr
                             INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                             WHERE
                             fm.gender = 'Male'
                             AND ecr.registration_or_followup_status = 'self_test_distribution_services'
                             AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                             substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                             date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"

  - key: "cbhs-2d-11-ke"
    description: ""
    indicatorQuery: "SELECT count(DISTINCT ecr.base_entity_id) as count
                               FROM ec_cbhs_register ecr
                               INNER JOIN ec_family_member fm on fm.base_entity_id = ecr.base_entity_id
                               WHERE
                               fm.gender = 'Female'
                               AND ecr.registration_or_followup_status = 'self_test_distribution_services'
                               AND date(substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 1, 4) || '-' ||
                               substr(strftime('%Y-%m-%d', datetime(ecr.hiv_registration_date / 1000, 'unixepoch', 'localtime')), 6, 2) || '-' || '01') =
                               date((substr('%s', 1, 4) || '-' || substr('%s', 6, 2) || '-' || '01'), '-1 months')"